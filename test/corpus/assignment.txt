==================
basic assignment
==================

a := 1.

---

(source_file
  (statement
    (assignment_rule
      (simple_assignment
        (term
          (function
            (identifier)))
        (term
          (number))))))

==================
basic assignment rule
==================

a(X) := f(Y) :- b(X).

---

(source_file
  (statement
    (assignment_rule
      (simple_assignment
        (term
          (function
            (identifier)
            (pool
              (terms
                (term
                  (variable))))))
        (term
          (function
            (identifier)
            (pool
              (terms
                (term
                  (variable)))))))
      (body
        (body_literal
          (symbolic_atom
            (identifier)
            (pool
              (terms
                (term
                  (variable))))))))))

==================
aggregate assignment
==================

a := #sum {X,Y: p(X,Y), q(X), not r(Y)}.

---

(source_file
  (statement
    (assignment_rule
      (aggregate_assignment
        (term
          (function
            (identifier)))
        (aggregate_function)
        (body_aggregate_elements
          (body_aggregate_element
            (terms
              (term
                (variable))
              (term
                (variable)))
            (literal_tuple
              (literal
                (symbolic_atom
                  (identifier)
                  (pool
                    (terms
                      (term
                        (variable))
                      (term
                        (variable))))))
              (literal
                (symbolic_atom
                  (identifier)
                  (pool
                    (terms
                      (term
                        (variable))))))
              (literal
                (sign
                  (default_negation))
                (symbolic_atom
                  (identifier)
                  (pool
                    (terms
                      (term
                        (variable)))))))))))))

==================
choice assignment
==================

a #some{X,Y: p(X,Y), not in(X)}.

---

(source_file
  (statement
    (assignment_rule
      (choice_some_assignment
        (term
          (function
            (identifier)))
        (body_aggregate_elements
          (body_aggregate_element
            (terms
              (term
                (variable))
              (term
                (variable)))
            (literal_tuple
              (literal
                (symbolic_atom
                  (identifier)
                  (pool
                    (terms
                      (term
                        (variable))
                      (term
                        (variable))))))
              (literal
                (sign
                  (default_negation))
                (symbolic_atom
                  (identifier)
                  (pool
                    (terms
                      (term
                        (variable)))))))))))))

==================
general choice assignment
==================

{ f(X) := Y : p(X,Y), not in(X) }.

---

(source_file
  (statement
    (assignment_rule
      (choice_assignment
        (choice_assignment_elements
          (choice_assignment_element
            (simple_assignment
              (term
                (function
                  (identifier)
                  (pool
                    (terms
                      (term
                        (variable))))))
              (term
                (variable)))
            (literal_tuple
              (literal
                (symbolic_atom
                  (identifier)
                  (pool
                    (terms
                      (term
                        (variable))
                      (term
                        (variable))))))
              (literal
                (sign
                  (default_negation))
                (symbolic_atom
                  (identifier)
                  (pool
                    (terms
                      (term
                        (variable)))))))))))))

==================
general choice assignment 2
==================

{ f(X) := Y : p(X,Y), not in(X) ; q(X) : r(X) } = 1.

---

(source_file
  (statement
    (assignment_rule
      (choice_assignment
        (choice_assignment_elements
          (choice_assignment_element
            (simple_assignment
              (term
                (function
                  (identifier)
                  (pool
                    (terms
                      (term
                        (variable))))))
              (term
                (variable)))
            (literal_tuple
              (literal
                (symbolic_atom
                  (identifier)
                  (pool
                    (terms
                      (term
                        (variable))
                      (term
                        (variable))))))
              (literal
                (sign
                  (default_negation))
                (symbolic_atom
                  (identifier)
                  (pool
                    (terms
                      (term
                        (variable))))))))
          (set_aggregate_element
            (literal
              (symbolic_atom
                (identifier)
                (pool
                  (terms
                    (term
                      (variable))))))
            (literal_tuple
              (literal
                (symbolic_atom
                  (identifier)
                  (pool
                    (terms
                      (term
                        (variable)))))))))
        (upper
          (relation)
          (term
            (number)))))))
